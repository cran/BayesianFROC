---
title: "Very Very Very Brief Description"
author: "Issei Tsunoda"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Very_Very_Very_Brief_Description}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


<style type="text/css">

h1.title {
  font-size: 35px;
  font-weight: bold;
  font-family: Arial-Black;
   color: #800000			;
}
h1{
  font-size: 35px;
  font-weight: bold;
  font-family: Arial-Black;
  
  color: #800000			;

}

h2 {
  font-size: 30px;
  font-weight: bold;
  font-family: Arial-Black;
    
  color: #800000			;

}

h3 {
  font-size: 26px;
  font-weight: bold;
  font-family: Arial-Black;
    
  color: #800000			;

}

h4 {
  font-size: 24px;
  font-weight: bold;
  font-family: Arial-Black;
    
  color: #800000			;

}



h5 {
  font-size: 22px;
  font-weight: bold;
  font-family: Arial-Black;
    
  color: #800000			;

}



h6 {
  font-size: 19px;
  font-weight: bold;
  font-family: Arial-Black;
    
  color: #800000			;

}



img {
	border:0;
}


body {
  font-size: 18px;
  <!-- font-weight: normal ; -->
    font-weight:bolder;
  
  font-family: Calibri;
  
    
  color: #800000			;

  background-color:#EEEEEE;	
  
<!--   margin:0; -->
<!-- 	padding:0; -->
  
}












p {
    color: #440000		;
}

</style>



Time is money, and I have time but no money. Why? 
Nowadays, many people work in eight days a week!
But, I work in zero days a week! Thus, time is no money.

Anyway, the author thinks the conventional notation would helps such  no time people.




## Conventional Notation

Recall that the conventional likelihood notation;

$$
f(y|\theta),
$$

where $y$ denotes data and $\theta$ is a model parameter.



## Data $y$ 

In case of a number of confidence levels $C=5$.



 Confidence Level    | No. of Hits | No. of False alarms
 :-----|----------|-------------
5 = definitely present |  $H_{5}$ |  $F_{5}$ 
4 = probably present   |  $H_{4}$ |  $F_{4}$ 
3 = equivocal          |  $H_{3}$ |  $F_{3}$ 
2 = probably           |  $H_{2}$ |  $F_{2}$ 
1 = questionable       |  $H_{1}$ |  $F_{1}$ 

where, $H_{c},F_c \in \mathbb{N}$. Moreover  Number of images $N_I$ and   Number of lesions $N_L$.

So, in conventional notation we may write

$$y = (H_1,H_2,H_3,H_4,H_5, F_1,F_2,F_3,F_4,F_5   ;N_L,N_I) \in \mathbb{N}^{2C+2}.$$ 

## Likelihood $f(y|\theta)$









$$
H_c \sim \text{Binomial}(p_c(\theta),N_L),\\
F_c \sim \text{Poisson}(q_c(\theta)).\\
$$


$$
p_c(\theta) := \int_{\theta_c}^{\theta_{c+1}}\text{Gaussian}_{}(x|\mu,\sigma)dx,\\
q_c(\theta) := \int_{\theta_c}^{\theta_{c+1}}N_I \times \frac{d \log \Phi(z)}{dz}dz.
$$



where model parameter  is   $\theta = (\theta_1,\theta_2,\theta_3,...\theta_C;\mu,\sigma)$ which should be estimated and $\Phi$ denotes the cumulative distribution functions of the canonical Gaussian. Note that $\theta_{C+1} = \infty$



## Prior

Omitted




## R script 
 
 
##### Graphical User Interface: GUI
```{r,eval=FALSE}
library(BayesianFROC)


                     fit_GUI_Shiny() #   Enjoy fitting!
          
          

```

 
##### Characteristic User Interface: CUI
 
 
```{r , eval=FALSE}

dat <- list(c=c(3,2,1),    #Confidence level. Note that c is ignored.
            h=c(97,32,31), #Number of hits for each confidence level
            f=c(1,14,74),  #Number of false alarms for each confidence level

            NL=259,        #Number of lesions
            NI=57,         #Number of images
            C=3)           #Number of confidence level




#  where,
#      c denotes confidence level, i.e., rating of reader.
#                3 = Definitely deseased,
#                2 = subtle,.. deseased
#                1 = very subtle
#      h denotes number of hits (True Positives: TP) for each confidence level,
#      f denotes number of false alarms (False Positives: FP) for each confidence level,
#      NL denotes number of lesions,
#      NI denotes number of images,





fit <- BayesianFROC::fit_Bayesian_FROC(  dataList = d )


# Posterior Predictive P value (PPP) for Chi square goodness of fit

                 ppp(fit)
```


# Validation of Model
##### SBC
```{r,eval=FALSE}
Simulation_Based_Calibration_single_reader_single_modality_via_rstan_sbc()
```


##### ppp
```{r,eval=FALSE}
fit <- fit_Bayesian_FROC( dataList = d )

ppp(fit)
```

